import{a as n,j as e}from"./state-Cs2e8pUQ.js";import{e as m,u}from"./vendor-D7HEtn7k.js";import{u as d}from"./useDatabricksAuth-j6mLyyUU.js";import{R as i,S as x}from"./index-Cmylodel.js";import"./charts-HkUfyz1_.js";function N(){const[t]=m(),r=u(),{handleCallback:o}=d(),a=n.useMemo(()=>t.get("error")?t.get("error_description")||"Authentication failed":t.get("code")?null:"No authorization code received",[t]),[c,l]=n.useState(a);return n.useEffect(()=>{const s=t.get("code");s&&!a&&o(s).then(()=>r(i.DEPLOYMENTS,{replace:!0})).catch(()=>l("Failed to complete authentication"))},[t,o,r,a]),c?e.jsx("div",{className:"max-w-md mx-auto px-4 py-24 text-center",children:e.jsxs("div",{className:"bg-white border border-gray-300 p-8",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Connection Failed"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:c}),e.jsx("button",{onClick:()=>r(i.DEPLOYMENTS),className:"text-blueprint-blue hover:underline text-sm",children:"Return to Deployments"})]})}):e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(x,{className:"mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Connecting to Databricks..."})]})})}export{N as default};
