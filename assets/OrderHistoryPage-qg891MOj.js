import{a as i,j as e}from"./state-Cs2e8pUQ.js";import{j as n}from"./index-HFgk6O2Q.js";import"./vendor-CXKupAPx.js";const c="blueprint_orders";function d(s){try{return JSON.parse(localStorage.getItem(c)||"[]").filter(t=>t.contactEmail===s)}catch{return[]}}const o={pending:"bg-yellow-50 text-yellow-700 border-yellow-200",submitted:"bg-blue-50 text-blue-700 border-blue-200",approved:"bg-green-50 text-green-700 border-green-200",rejected:"bg-red-50 text-red-700 border-red-200"};function b(){const{user:s}=n(),[r]=i.useState(()=>s?d(s.email):[]);return s?e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Order History"}),r.length===0?e.jsxs("div",{className:"bg-white border border-gray-300 p-12 text-center",children:[e.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No orders yet"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Your PO requests and order history will appear here."})]}):e.jsx("div",{className:"space-y-4",children:r.map(t=>e.jsxs("div",{className:"bg-white border border-gray-300 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["Order #",t.id.slice(0,8)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(t.createdAt).toLocaleDateString()," Â· ",t.companyName]})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium border capitalize ${o[t.status]||""}`,children:t.status})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[t.items.map((a,l)=>e.jsxs("div",{className:"flex justify-between text-sm py-1",children:[e.jsx("span",{className:"text-gray-700",children:a.title}),e.jsxs("span",{className:"text-gray-500",children:["$",a.price.toLocaleString(),"/",a.billing]})]},l)),e.jsxs("div",{className:"flex justify-between font-bold text-gray-900 border-t border-gray-200 pt-2 mt-2",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",t.total.toLocaleString()]})]})]})]},t.id))})]}):null}export{b as default};
