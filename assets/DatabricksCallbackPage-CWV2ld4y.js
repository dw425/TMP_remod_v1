import{a as n,j as e}from"./state-Cs2e8pUQ.js";import{d as m,u as d}from"./vendor-CXKupAPx.js";import{u}from"./useDatabricksAuth-DFpKUedV.js";import{R as i,S as x}from"./index-BFBTFrn8.js";function g(){const[t]=m(),r=d(),{handleCallback:c}=u(),a=n.useMemo(()=>t.get("error")?t.get("error_description")||"Authentication failed":t.get("code")?null:"No authorization code received",[t]),[o,l]=n.useState(a);return n.useEffect(()=>{const s=t.get("code");s&&!a&&c(s).then(()=>r(i.DEPLOYMENTS,{replace:!0})).catch(()=>l("Failed to complete authentication"))},[t,c,r,a]),o?e.jsx("div",{className:"max-w-md mx-auto px-4 py-24 text-center",children:e.jsxs("div",{className:"bg-white border border-gray-300 p-8",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Connection Failed"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:o}),e.jsx("button",{onClick:()=>r(i.DEPLOYMENTS),className:"text-blueprint-blue hover:underline text-sm",children:"Return to Deployments"})]})}):e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(x,{className:"mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Connecting to Databricks..."})]})})}export{g as default};
