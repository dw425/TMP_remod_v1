import{a as o,j as e}from"./state-Cs2e8pUQ.js";import{u as P,L as E}from"./vendor-D7HEtn7k.js";import{e as L,a as T,v as B,q as M,R as p,B as g,r as A,E as F}from"./index-BTRS8aJz.js";import{B as q}from"./Button-BMnWceLB.js";import{S as I}from"./SEO-iL0eMFQN.js";import"./charts-HkUfyz1_.js";const O={0:"bg-red-500",1:"bg-red-400",2:"bg-yellow-500",3:"bg-green-500",4:"bg-green-600"},R={0:"w-0",1:"w-1/4",2:"w-2/4",3:"w-3/4",4:"w-full"};function z(){const{signup:h,error:b}=L(),w=P(),f=T(),[s,y]=o.useState({firstName:"",lastName:"",email:"",company:"",password:"",confirmPassword:"",website:""}),[N,l]=o.useState(null),[j,v]=o.useState(!1),[m,c]=o.useState(!1),[i,k]=o.useState(!1),r=o.useMemo(()=>s.email?B(s.email):null,[s.email]),a=o.useMemo(()=>s.password?M(s.password):null,[s.password]),t=d=>{y(S=>({...S,[d.target.name]:d.target.value})),l(null)},C=async d=>{if(d.preventDefault(),!s.website){if(r&&!r.valid){l(r.error||"Invalid email");return}if(s.password!==s.confirmPassword){l("Passwords do not match");return}if(a&&a.score<2){l("Password is too weak. "+a.errors.join(", "));return}if(A(s.password)){l("This password is too common. Please choose a stronger one.");return}c(!0);try{await h({email:s.email,password:s.password,firstName:s.firstName,lastName:s.lastName,company:s.company}),f(F.SIGNUP_COMPLETED,{email:s.email,company:s.company}),w(p.DASHBOARD,{replace:!0})}catch{}finally{c(!1)}}},u=N||b,n="w-full border border-gray-300 px-3 py-2 text-gray-900 bg-white focus:outline-none focus:border-blueprint-blue focus:ring-1 focus:ring-blueprint-blue dark:bg-slate-800 dark:border-slate-600 dark:text-gray-100",x=j&&r&&!r.valid;return e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx(I,{title:"Create Account",description:"Create a Blueprint Marketplace account to access enterprise Databricks solutions."}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 border-t-4 border-t-blueprint-blue p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Create Account"}),u&&e.jsx("div",{role:"alert",className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 text-sm",children:u}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-firstName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name"}),e.jsx("input",{id:"signup-firstName",type:"text",name:"firstName",value:s.firstName,onChange:t,required:!0,autoComplete:"given-name",className:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-lastName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name"}),e.jsx("input",{id:"signup-lastName",type:"text",name:"lastName",value:s.lastName,onChange:t,required:!0,autoComplete:"family-name",className:n})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Business Email"}),e.jsx("input",{id:"signup-email",type:"email",name:"email",value:s.email,onChange:t,onBlur:()=>v(!0),required:!0,autoComplete:"email",className:`${n} ${x?"border-red-400 focus:border-red-500 focus:ring-red-500":""}`}),x&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:r==null?void 0:r.error})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-company",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company"}),e.jsx("input",{id:"signup-company",type:"text",name:"company",value:s.company,onChange:t,required:!0,autoComplete:"organization",className:n})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"signup-password",type:i?"text":"password",name:"password",value:s.password,onChange:t,required:!0,minLength:8,autoComplete:"new-password",className:n}),e.jsx("button",{type:"button",onClick:()=>k(!i),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600","aria-label":i?"Hide password":"Show password",tabIndex:-1,children:i?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),s.password&&a&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"h-1.5 w-full bg-gray-200 dark:bg-slate-700",children:e.jsx("div",{className:`h-full transition-all duration-300 ${O[a.score]} ${R[a.score]}`})}),e.jsxs("p",{className:`text-xs mt-1 ${a.score<2?"text-red-600":a.score<3?"text-yellow-600":"text-green-600"}`,children:[a.label,a.errors.length>0&&e.jsxs("span",{className:"text-gray-500",children:[" â€” Needs: ",a.errors.join(", ")]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),e.jsx("input",{id:"signup-confirmPassword",type:i?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:t,required:!0,autoComplete:"new-password",className:n}),s.confirmPassword&&s.password!==s.confirmPassword&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Passwords do not match"})]}),e.jsxs("div",{className:"absolute -left-[9999px]","aria-hidden":"true",children:[e.jsx("label",{htmlFor:"signup-website",children:"Website"}),e.jsx("input",{id:"signup-website",type:"text",name:"website",value:s.website,onChange:t,tabIndex:-1,autoComplete:"off"})]}),e.jsx(q,{type:"submit",className:"w-full",disabled:m,children:m?"Creating account...":"Create Account"})]}),e.jsxs("p",{className:"mt-6 text-sm text-center text-gray-500 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(E,{to:p.LOGIN,className:"text-blueprint-blue hover:underline",children:"Sign in"})]}),e.jsxs("p",{className:"mt-4 text-[11px] text-gray-400 text-center leading-relaxed",children:["By creating an account you agree to our"," ",e.jsx("a",{href:g.terms,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-gray-600",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:g.privacy,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-gray-600",children:"Privacy Policy"}),"."]})]})]})}export{z as default};
