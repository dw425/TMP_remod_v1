import{a as m,j as e}from"./state-Cs2e8pUQ.js";import{e as y,c as d,w as h}from"./index-D8m8VeQt.js";import{B as f}from"./Button-DZGiFw0z.js";import{u as N}from"./useAlerts-AlGzCtGn.js";import"./vendor-D7HEtn7k.js";import"./charts-HkUfyz1_.js";function F(){const{user:t}=y(),c=d(a=>a.setUser),x=d(a=>a.token),{showSuccess:g,showError:u}=N(),[s,p]=m.useState({firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",company:(t==null?void 0:t.company)||""}),[i,o]=m.useState(!1);if(!t)return null;const l=a=>{p(n=>({...n,[a.target.name]:a.target.value}))},b=async a=>{a.preventDefault(),o(!0);try{const n=await h(t.id,s);c(n,x),g("Profile updated successfully")}catch{u("Failed to update profile")}finally{o(!1)}},r="w-full border border-gray-300 dark:border-slate-600 px-3 py-2 text-gray-900 dark:text-gray-100 bg-white dark:bg-slate-800 focus:outline-none focus:border-blueprint-blue focus:ring-1 focus:ring-blueprint-blue";return e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-12",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-8",children:"Account Settings"}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 border-t-4 border-t-blueprint-blue p-8",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Profile Information"}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"settings-firstName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name"}),e.jsx("input",{id:"settings-firstName",type:"text",name:"firstName",value:s.firstName,onChange:l,required:!0,autoComplete:"given-name",className:r})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"settings-lastName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name"}),e.jsx("input",{id:"settings-lastName",type:"text",name:"lastName",value:s.lastName,onChange:l,required:!0,autoComplete:"family-name",className:r})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"settings-email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{id:"settings-email",type:"email",value:t.email,disabled:!0,className:`${r} bg-gray-50 dark:bg-slate-700 text-gray-400 dark:text-gray-400 cursor-not-allowed`}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-400 mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"settings-company",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company"}),e.jsx("input",{id:"settings-company",type:"text",name:"company",value:s.company,onChange:l,autoComplete:"organization",className:r})]}),e.jsx("div",{className:"pt-4",children:e.jsx(f,{type:"submit",disabled:i,children:i?"Saving...":"Save Changes"})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-700 p-8 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Account Details"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 space-y-1",children:[e.jsxs("p",{children:["Role: ",e.jsx("span",{className:"capitalize font-medium text-gray-700 dark:text-gray-300",children:t.role})]}),e.jsxs("p",{children:["Member since: ",new Date(t.createdAt).toLocaleDateString()]}),e.jsxs("p",{children:["Last login: ",new Date(t.lastLogin).toLocaleDateString()]})]})]})]})}export{F as default};
