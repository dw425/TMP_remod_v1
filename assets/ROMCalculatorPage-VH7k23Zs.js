import{a as l,j as e}from"./state-Cs2e8pUQ.js";import{g as je}from"./platforms-C7wVRla3.js";import{g as ve}from"./index-ZA17WB5d.js";import{g as E,s as Ne}from"./index-CJbXApFj.js";import{u as Se}from"./useAlerts-BSDuE6zv.js";import{u as Me}from"./vendor-D7HEtn7k.js";import"./charts-HkUfyz1_.js";const Ee={contactSales:E.VITE_FORMSPREE_CONTACT,poCheckout:E.VITE_FORMSPREE_PO,aiFactory:E.VITE_FORMSPREE_AIFACTORY,romCalculator:E.VITE_FORMSPREE_CALC};async function Fe(n,i){const c=Ee[n],s=Ne(i),a=await fetch(`https://formspree.io/f/${c}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error("Form submission failed");return a.json()}const Oe={table:{s:2,m:6,c:16,v:40},view:{s:2,m:8,c:24,v:40},proc:{s:4,m:12,c:32,v:60},func:{s:4,m:12,c:32,v:60},etl:{s:6,m:20,c:50,v:100},script:{s:4,m:16,c:40,v:80},orch:{s:2,m:6,c:16,v:32},bi:{s:4,m:16,c:40,v:80},excel:{s:2,m:8,c:24,v:60},report:{s:4,m:12,c:32,v:80}},Re={snowflake:.8,databricks:.8,synapse:.85,"sql-server":.9,oracle:1,netezza:1.1,teradata:1.15,sap:1.2,hadoop:1.25,gcp:1,informatica:1,redshift:.9,"unity-catalog":.8,talend:1},O=[{key:"table",label:"Tables"},{key:"view",label:"Views"},{key:"proc",label:"Stored Procs"},{key:"func",label:"Functions"}],R=[{key:"etl",label:"ETL Pipelines"},{key:"script",label:"Scripts"},{key:"orch",label:"Orchestration"}],T=[{key:"bi",label:"BI Dashboards"},{key:"excel",label:"Excel Sheets"},{key:"report",label:"Reports"}],Te={1:[.8,.2,0,0],2:[.6,.3,.1,0],3:[.4,.4,.2,0],4:[.2,.4,.3,.1],5:[.1,.2,.4,.3]};function Ae(n,i){const c=Math.min(5,Math.max(1,Math.round(i||3))),s=Te[c]??[.4,.4,.2,0];return{simple:Math.round(n*(s[0]??0)),medium:Math.round(n*(s[1]??0)),complex:Math.round(n*(s[2]??0)),veryComplex:Math.round(n*(s[3]??0))}}const Ie={tableCount:{row:"table",complexityField:"tableComplexity"},viewCount:{row:"view",complexityField:"viewComplexity"},spCount:{row:"proc",complexityField:"spComplexity"},totalProcs:{row:"proc",complexityField:"procComplexity"},plsqlObjectCount:{row:"proc",complexityField:"procComplexity"},macroCount:{row:"proc"},udfCount:{row:"func",complexityField:"udfComplexity"},udfTotalCount:{row:"func",complexityField:"udfComplexity"},funcCount:{row:"func",complexityField:"funcComplexity"},functionCount:{row:"func"},abapCount:{row:"func",complexityField:"abapComplexity"},pipelineCount:{row:"etl",complexityField:"ingestComplexity"},dataflowJobCount:{row:"etl"},etlCount:{row:"etl",complexityField:"etlComplexity"},mappingCount:{row:"etl",complexityField:"mappingComplexity"},jobCount:{row:"etl"},dataFlowCount:{row:"etl",complexityField:"dataFlowComplexity"},bwObjectCount:{row:"etl",complexityField:"bwComplexity"},scriptCount:{row:"script",complexityField:"scriptComplexity"},totalScripts:{row:"script",complexityField:"scriptComplexity"},notebookCount:{row:"script",complexityField:"notebookComplexity"},bteqCount:{row:"script",complexityField:"scriptComplexity"},fastloadCount:{row:"script"},tptCount:{row:"script"},routineCount:{row:"script",complexityField:"routineComplexity"},sessionCount:{row:"script"},taskCount:{row:"orch",complexityField:"orchComplexity"},composerDagCount:{row:"orch"},orchCount:{row:"orch",complexityField:"orchComplexity"},dagCount:{row:"orch",complexityField:"orchComplexity"},triggerCount:{row:"orch",complexityField:"triggerComplexity"},workflowCount:{row:"orch",complexityField:"workflowComplexity"}};function Pe(n){const i={};if([...O,...R,...T].forEach(s=>{i[s.key]={simple:0,medium:0,complex:0,veryComplex:0}}),!n)return i;const c={};for(const[s,a]of Object.entries(Ie)){const d=Number(n[s])||0;if(d<=0)continue;c[a.row]||(c[a.row]={total:0,complexity:0,complexityCount:0});const p=c[a.row];if(p.total+=d,a.complexityField){const r=Number(n[a.complexityField]);r>0&&(p.complexity+=r,p.complexityCount+=1)}}for(const[s,a]of Object.entries(c)){if(!i[s])continue;const d=a.complexityCount>0?a.complexity/a.complexityCount:3;i[s]=Ae(a.total,d)}return i}function qe(){var G,K,X,Q;const n=Me(),{showSuccess:i,showError:c}=Se(),[s,a]=l.useState(!1),[d,p]=l.useState(!1),r=l.useMemo(()=>{const t=sessionStorage.getItem("lastAssessmentReport");if(!t)return null;try{return JSON.parse(t)}catch{return null}},[]),b=r?je(r.platform):void 0,[q,re]=l.useState(String(((G=r==null?void 0:r.formData)==null?void 0:G.projectName)??"")),[z,ae]=l.useState(String(((K=r==null?void 0:r.formData)==null?void 0:K.stakeholder)??"")),[Y,se]=l.useState(String(((X=r==null?void 0:r.formData)==null?void 0:X.contactEmail)??"")),[h,oe]=l.useState(()=>Pe(r==null?void 0:r.formData)),J=Number((Q=r==null?void 0:r.formData)==null?void 0:Q.overallComplexity)||3,[A,le]=l.useState(J),[I,ne]=l.useState(3),[P,ie]=l.useState(3),[L,ce]=l.useState(J),[w,de]=l.useState(0),[C,me]=l.useState(0),[U,k]=l.useState(""),[xe,j]=l.useState("text-green-700"),[pe,v]=l.useState("bg-green-600"),[ue,N]=l.useState("25%");function D(t,o,x){oe(g=>{const y=g[t]??{simple:0,medium:0,complex:0,veryComplex:0},m={...g};return m[t]={...y,[o]:x},m})}function be(){let t=0,o=0,x=0;for(const[ke,M]of Object.entries(Oe)){const Z=h[ke];if(!Z)continue;const{simple:ee,medium:te,complex:B,veryComplex:W}=Z;t+=ee*M.s+te*M.m+B*M.c+W*M.v,o+=ee+te+B+W,x+=B+W}const g=Re[(r==null?void 0:r.platform)??""]??1,m=1.25-((A+I+P)/3-1)*.1125,u=.8+(L-1)*.1125,f=Math.ceil(t*g*m*u),Ce=Math.ceil(f*.4);de(f),me(Ce);const $=f*(1+(o>0?x/o:0));$>25e3?(k("TRANSFORMATIONAL"),j("text-red-900"),v("bg-red-900"),N("100%")):$>1e4?(k("HIGH COMPLEXITY"),j("text-red-600"),v("bg-red-600"),N("75%")):$>2500?(k("MODERATE"),j("text-yellow-600"),v("bg-yellow-500"),N("50%")):(k("LOW"),j("text-green-700"),v("bg-green-600"),N("25%")),p(!0)}const _=r?ve(r.platform):void 0;function ge(t){return t==null||t===""?"(not provided)":Array.isArray(t)?t.join(", "):typeof t=="boolean"?t?"Yes":"No":String(t)}function ye(){return!_||!(r!=null&&r.formData)?[]:_.sections.map(t=>({title:t.title,fields:t.fields.map(o=>({label:o.label,value:ge(r.formData[o.name])})).filter(o=>o.value!=="(not provided)"&&o.value!=="0"&&o.value!=="")})).filter(t=>t.fields.length>0)}const H=l.useMemo(ye,[_,r]);function he(){const t=[...O,...R,...T],o=[{title:"DATABASE LAYER",rows:O},{title:"INTEGRATION & CODE",rows:R},{title:"PRESENTATION LAYER",rows:T}],x=[];for(const y of o){x.push(`
--- ${y.title} ---`);for(const m of y.rows){const u=h[m.key];if(!u)continue;const f=u.simple+u.medium+u.complex+u.veryComplex;f>0&&x.push(`${m.label}: ${u.simple} Simple, ${u.medium} Medium, ${u.complex} Complex, ${u.veryComplex} V.Complex (Total: ${f})`)}}let g=0;for(const y of t){const m=h[y.key];m&&(g+=m.simple+m.medium+m.complex+m.veryComplex)}return x.push(`
TOTAL OBJECTS: ${g}`),x.join(`
`)}function fe(){const t=[];for(const o of H){t.push(`
=== ${o.title} ===`);for(const x of o.fields)t.push(`${x.label}: ${x.value}`)}return t.join(`
`)}async function we(){a(!0);try{const t=he(),o=fe();await Fe("romCalculator",{"Source Platform":(b==null?void 0:b.name)??(r==null?void 0:r.platform)??"Unknown","Project Name":q||"(not provided)","Primary Stakeholder":z||"(not provided)","Contact Email":Y||"(not provided)","Team Expertise (1-5)":A,"Tool Familiarity (1-5)":I,"Infrastructure Config (1-5)":P,"Env Complexity (1-5)":L,"ROM Object Inventory":t,"Complexity Rating":U,"Manual Effort (Hours)":w.toLocaleString(),"Manual Effort (Weeks)":Math.ceil(w/S),"Blueprint Accelerated (Hours)":C.toLocaleString(),"Blueprint Accelerated (Weeks)":Math.ceil(C/S),"Full Assessment Details":o,"Submitted At":new Date().toLocaleString()}),p(!1),i("Details Sent!","Our team has received your migration inventory and ROM estimate.")}catch{c("Submission Failed","Could not send the report. Please try again.")}finally{a(!1)}}const S=160;return e.jsxs("div",{className:"w-full max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("button",{onClick:()=>n("/migration"),className:"text-sm text-blueprint-blue hover:underline mb-6 inline-block",children:"← Back to Migration Suite"}),e.jsxs("div",{className:"mb-10 border-b border-gray-200 dark:border-slate-700 pb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 tracking-tight mb-3",children:"Comprehensive Migration ROM Calculator"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 font-medium",children:"Inventory your environment and assess maturity to generate a Rough Order of Magnitude (ROM) estimate."}),b&&e.jsxs("p",{className:"text-sm font-bold mt-2",style:{color:b.brandColor},children:["Source: ",b.name]})]}),H.length>0&&e.jsx(Le,{sections:H,platformColor:b==null?void 0:b.brandColor}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 shadow-sm mb-8",children:[e.jsx("div",{className:"bg-blueprint-blue text-white px-6 py-3 font-bold text-sm uppercase tracking-wide",children:"1. Organization & Tech Stack"}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1 font-bold text-gray-900 dark:text-gray-100 text-sm",children:"Project Name"}),e.jsx("input",{type:"text",value:q,onChange:t=>re(t.target.value),className:"w-full px-3 py-2 border border-gray-400 dark:border-slate-600 text-sm focus:border-blueprint-blue focus:ring-1 focus:ring-blueprint-blue outline-none bg-white dark:bg-slate-700 dark:text-gray-100"})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1 font-bold text-gray-900 dark:text-gray-100 text-sm",children:"Primary Stakeholder"}),e.jsx("input",{type:"text",value:z,onChange:t=>ae(t.target.value),className:"w-full px-3 py-2 border border-gray-400 dark:border-slate-600 text-sm focus:border-blueprint-blue focus:ring-1 focus:ring-blueprint-blue outline-none bg-white dark:bg-slate-700 dark:text-gray-100"})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-1 font-bold text-gray-900 dark:text-gray-100 text-sm",children:"Email"}),e.jsx("input",{type:"email",value:Y,onChange:t=>se(t.target.value),className:"w-full px-3 py-2 border border-gray-400 dark:border-slate-600 text-sm focus:border-blueprint-blue focus:ring-1 focus:ring-blueprint-blue outline-none bg-white dark:bg-slate-700 dark:text-gray-100"})]})]})})]}),e.jsx(V,{title:"2. Database Layer",rows:O,matrix:h,onUpdate:D}),e.jsx(V,{title:"3. Integration & Code",rows:R,matrix:h,onUpdate:D}),e.jsx(V,{title:"4. Presentation Layer",rows:T,matrix:h,onUpdate:D}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 shadow-sm mb-8",children:[e.jsx("div",{className:"bg-blueprint-blue text-white px-6 py-3 font-bold text-sm uppercase tracking-wide",children:"5. Maturity & Complexity"}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-8 uppercase tracking-wide",children:"Rate your environment (1=Low/Novice, 5=High/Expert)"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsx(F,{label:"Team Expertise",value:A,onChange:le,lowLabel:"1 (Novice)",highLabel:"5 (Expert)"}),e.jsx(F,{label:"Tool Familiarity",value:I,onChange:ne,lowLabel:"1 (Low)",highLabel:"5 (High)"}),e.jsx(F,{label:"Infrastructure Config",value:P,onChange:ie,lowLabel:"1 (Manual)",highLabel:"5 (IaC)"}),e.jsx(F,{label:"Env. Complexity",value:L,onChange:ce,lowLabel:"1 (Simple)",highLabel:"5 (Chaotic)"})]})]})]}),e.jsx("div",{className:"text-center pb-12",children:e.jsx("button",{type:"button",onClick:be,className:"bg-blueprint-blue text-white px-10 py-4 font-extrabold uppercase tracking-wide hover:bg-blue-800 transition-all hover:-translate-y-0.5 shadow-md",children:"Calculate Migration ROM"})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-start justify-center z-50 overflow-y-auto pt-20 pb-12",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 w-[90%] max-w-[900px] p-10 shadow-2xl border-t-8 border-blueprint-blue relative",children:[e.jsx("button",{onClick:()=>p(!1),className:"absolute top-4 right-4 text-3xl font-bold text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"×"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2 text-center",children:"ROM Assessment Results"}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-700 h-1 mb-8"}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest",children:"Overall Complexity Rating"}),e.jsx("div",{className:`text-2xl font-black my-2 ${xe}`,children:U}),e.jsx("div",{className:"w-1/2 mx-auto bg-gray-200 dark:bg-slate-700 h-3 overflow-hidden",children:e.jsx("div",{className:`h-full ${pe}`,style:{width:ue}})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[e.jsxs("div",{className:"p-8 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-center",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest mb-2",children:"Standard Manual Effort"}),e.jsx("p",{className:"text-4xl font-black text-gray-800 dark:text-gray-100",children:w.toLocaleString()}),e.jsx("p",{className:"text-sm font-bold text-gray-500 dark:text-gray-400",children:"Total Man-Hours"}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-slate-600",children:[e.jsx("span",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:Math.ceil(w/S)})," ",e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Weeks"})]})]}),e.jsxs("div",{className:"p-8 bg-green-50 dark:bg-green-900/20 border border-green-300 dark:border-green-700 text-center relative shadow-sm",children:[e.jsx("div",{className:"absolute -top-3 right-0 left-0 mx-auto w-max bg-green-600 text-white text-[10px] px-3 py-1 font-bold uppercase",children:"60% Acceleration"}),e.jsx("p",{className:"text-xs font-bold text-green-700 uppercase tracking-widest mb-2",children:"Blueprint Accelerated"}),e.jsx("p",{className:"text-4xl font-black text-green-700",children:C.toLocaleString()}),e.jsx("p",{className:"text-sm font-bold text-green-600",children:"Total Man-Hours"}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200 dark:border-green-700",children:[e.jsx("span",{className:"text-xl font-bold text-green-800",children:Math.ceil(C/S)})," ",e.jsx("span",{className:"text-green-700",children:"Weeks"})]})]})]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>p(!1),className:"px-6 py-3 border border-gray-300 dark:border-slate-600 font-bold text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Adjust Inputs"}),e.jsx("button",{onClick:we,disabled:s,className:"bg-blueprint-blue text-white px-8 py-3 font-bold hover:bg-blue-800 transition-colors shadow-sm disabled:opacity-50",children:s?"Sending...":"Request Detailed Proposal"})]})]})})]})}function V({title:n,rows:i,matrix:c,onUpdate:s}){return e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 shadow-sm mb-8",children:[e.jsx("div",{className:"bg-blueprint-blue text-white px-6 py-3 font-bold text-sm uppercase tracking-wide",children:n}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 dark:bg-slate-700 border-b-2 border-gray-200 dark:border-slate-600",children:[e.jsx("th",{className:"p-4 w-1/4 text-xs font-extrabold text-gray-500 dark:text-gray-400 uppercase",children:"Object Type"}),e.jsx("th",{className:"p-4 text-center text-xs font-extrabold text-green-700 uppercase",children:"Simple"}),e.jsx("th",{className:"p-4 text-center text-xs font-extrabold text-yellow-700 uppercase",children:"Medium"}),e.jsx("th",{className:"p-4 text-center text-xs font-extrabold text-red-700 uppercase",children:"Complex"}),e.jsx("th",{className:"p-4 text-center text-xs font-extrabold text-red-900 uppercase",children:"V. Complex"})]})}),e.jsx("tbody",{children:i.map(a=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-slate-700",children:[e.jsx("td",{className:"p-4 font-bold text-sm text-gray-900 dark:text-gray-100",children:a.label}),["simple","medium","complex","veryComplex"].map(d=>{var p;return e.jsx("td",{className:"p-4",children:e.jsx("input",{type:"number",min:0,placeholder:"0",value:((p=c[a.key])==null?void 0:p[d])||"",onChange:r=>s(a.key,d,parseInt(r.target.value)||0),className:"w-full px-2 py-2 border border-gray-400 dark:border-slate-600 text-center font-semibold text-sm focus:border-blueprint-blue focus:ring-1 focus:ring-blueprint-blue outline-none bg-white dark:bg-slate-700 dark:text-gray-100"})},d)})]},a.key))})]})})]})}function Le({sections:n,platformColor:i}){const[c,s]=l.useState(!1);return e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 shadow-sm mb-8",children:[e.jsxs("button",{type:"button",onClick:()=>s(a=>!a),className:"w-full flex items-center justify-between px-6 py-3 font-bold text-sm uppercase tracking-wide text-white",style:{backgroundColor:i??"#1d4ed8"},children:[e.jsx("span",{children:"Assessment Details (from questionnaire)"}),e.jsx("span",{className:"text-lg",children:c?"▲":"▼"})]}),c&&e.jsx("div",{className:"p-6 space-y-6 max-h-[500px] overflow-y-auto",children:n.map(a=>e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-extrabold text-gray-500 dark:text-gray-400 uppercase tracking-wider border-b border-gray-200 dark:border-slate-700 pb-2 mb-3",children:a.title}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:a.fields.map(d=>e.jsxs("div",{className:"flex gap-2 text-sm py-1",children:[e.jsxs("span",{className:"font-bold text-gray-700 dark:text-gray-300 shrink-0",children:[d.label,":"]}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 break-words",children:d.value})]},d.label))})]},a.title))})]})}function F({label:n,value:i,onChange:c,lowLabel:s,highLabel:a}){return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block mb-2 font-bold text-gray-900 dark:text-gray-100 text-sm",children:n}),e.jsx("input",{type:"range",min:1,max:5,value:i,onChange:d=>c(parseInt(d.target.value)),className:"w-full accent-blueprint-blue cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs font-extrabold text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:s}),e.jsx("span",{children:i}),e.jsx("span",{children:a})]})]})}export{qe as default};
