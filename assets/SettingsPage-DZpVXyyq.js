import{a as m,j as e}from"./state-Cs2e8pUQ.js";import{j as b,a as c,n as f}from"./index-HFgk6O2Q.js";import{B as y}from"./Button-Bv0mfHIJ.js";import{u as N}from"./useAlerts-Ba0GvaiG.js";import"./vendor-CXKupAPx.js";function F(){const{user:t}=b(),d=c(a=>a.setUser),x=c(a=>a.token),{showSuccess:u,showError:g}=N(),[s,p]=m.useState({firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",company:(t==null?void 0:t.company)||""}),[i,o]=m.useState(!1);if(!t)return null;const n=a=>{p(r=>({...r,[a.target.name]:a.target.value}))},h=async a=>{a.preventDefault(),o(!0);try{const r=await f(t.id,s);d(r,x),u("Profile updated successfully")}catch{g("Failed to update profile")}finally{o(!1)}},l="w-full border border-gray-300 px-3 py-2 text-gray-900 bg-white focus:outline-none focus:border-blueprint-blue focus:ring-1 focus:ring-blueprint-blue";return e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-12",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Account Settings"}),e.jsxs("div",{className:"bg-white border border-gray-300 border-t-4 border-t-blueprint-blue p-8",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-6",children:"Profile Information"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"settings-firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),e.jsx("input",{id:"settings-firstName",type:"text",name:"firstName",value:s.firstName,onChange:n,required:!0,autoComplete:"given-name",className:l})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"settings-lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),e.jsx("input",{id:"settings-lastName",type:"text",name:"lastName",value:s.lastName,onChange:n,required:!0,autoComplete:"family-name",className:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"settings-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{id:"settings-email",type:"email",value:t.email,disabled:!0,className:`${l} bg-gray-50 text-gray-400 cursor-not-allowed`}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"settings-company",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),e.jsx("input",{id:"settings-company",type:"text",name:"company",value:s.company,onChange:n,autoComplete:"organization",className:l})]}),e.jsx("div",{className:"pt-4",children:e.jsx(y,{type:"submit",disabled:i,children:i?"Saving...":"Save Changes"})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-300 p-8 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"Account Details"}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("p",{children:["Role: ",e.jsx("span",{className:"capitalize font-medium text-gray-700",children:t.role})]}),e.jsxs("p",{children:["Member since: ",new Date(t.createdAt).toLocaleDateString()]}),e.jsxs("p",{children:["Last login: ",new Date(t.lastLogin).toLocaleDateString()]})]})]})]})}export{F as default};
